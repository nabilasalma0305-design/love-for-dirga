<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Meledak iPhone Emoji</title>
<style>
body {
  margin:0;
  padding:0;
  overflow:hidden;
  background: linear-gradient(120deg, #ffe6f0, #fff5e6);
  font-family: 'Arial', sans-serif;
  text-align:center;
}

#heart {
  font-size: 60px;
  cursor:pointer;
  transition: transform 0.3s ease;
  margin-top: 40vh;
}

#message {
  margin-top: 20px;
  font-size: 28px;
  display:none;
  cursor:pointer;
  color:#ff4da6;
  text-shadow: 2px 2px #fff;
}

.heart-piece, .char-piece {
  position:absolute;
  font-size:20px;
  animation:explode 1.2s forwards;
}

@keyframes explode {
  to { transform: translate(var(--x), var(--y)) scale(0.5); opacity:0;}
}

.bg-char {
  position:absolute;
  font-size:20px;
  animation:float linear infinite;
  opacity:0.6;
}

@keyframes float {
  from { transform: translateY(100vh);}
  to { transform: translateY(-10vh);}
}
</style>
</head>
<body>

<!-- Musik autoplay -->
<audio autoplay loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<div id="heart">â¤ï¸</div>
<div id="message"></div>

<!-- Twemoji -->
<script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>

<script>
twemoji.parse(document.body, {folder: 'svg', ext: '.svg'});

const heart = document.getElementById("heart");
const message = document.getElementById("message");
let step = 0;
const messages = ["hai~ ğŸ’–", "aku cuman mau bilang...", "I LOVE YOU ğŸ˜˜"];

heart.addEventListener("click", () => {
  heart.style.transform = "scale(3)";
  setTimeout(() => {
    explodeHeart();
    heart.classList.add("hidden");
    showMessage();
  }, 300);
});

function showMessage() {
  message.style.display = "block";
  message.textContent = messages[step];
  twemoji.parse(message, {folder: 'svg', ext: '.svg'});
}

message.addEventListener("click", () => {
  step++;
  if(step<messages.length){
    message.textContent = messages[step];
    twemoji.parse(message, {folder: 'svg', ext: '.svg'});
    explodeChars();
  } else {
    message.style.display="none";
    heart.classList.remove("hidden");
    heart.style.transform="scale(1)";
    step=0;
  }
});

function explodeHeart(){
  for(let i=0;i<50;i++){
    const piece = document.createElement("div");
    piece.classList.add("heart-piece");
    piece.innerHTML="â¤ï¸";
    piece.style.left=window.innerWidth/2+"px";
    piece.style.top=window.innerHeight/2+"px";
    piece.style.setProperty('--x', (Math.random()*600-300)+"px");
    piece.style.setProperty('--y', (Math.random()*600-300)+"px");
    document.body.appendChild(piece);
    twemoji.parse(piece, {folder: 'svg', ext: '.svg'});
    setTimeout(()=>piece.remove(),1200);
  }
}

function explodeChars(){
  const chars = ["ğŸŒŸ","ğŸ’–","ğŸŒ¸","âœ¨","ğŸ“","ğŸ°","ğŸ¦„"];
  for(let i=0;i<40;i++){
    const c = document.createElement("div");
    c.classList.add("char-piece");
    c.innerHTML=chars[Math.floor(Math.random()*chars.length)];
    c.style.left=window.innerWidth/2+"px";
    c.style.top=window.innerHeight/2+"px";
    c.style.setProperty('--x', (Math.random()*600-300)+"px");
    piece = c;
    document.body.appendChild(c);
    twemoji.parse(c, {folder: 'svg', ext: '.svg'});
    setTimeout(()=>c.remove(),1200);
  }
}

// Floating background characters
setInterval(()=>{
  const chars = ["ğŸ’–","ğŸŒŸ","ğŸŒ¸","âœ¨","ğŸ“","ğŸ°","ğŸ¦„"];
  const bg = document.createElement("div");
  bg.classList.add("bg-char");
  bg.innerHTML=chars[Math.floor(Math.random()*chars.length)];
  bg.style.left=Math.random()*100+"vw";
  bg.style.fontSize=(Math.random()*20+15)+"px";
  bg.style.animationDuration=(Math.random()*3+3)+"s";
  document.body.appendChild(bg);
  twemoji.parse(bg, {folder: 'svg', ext: '.svg'});
  setTimeout(()=>bg.remove(),6000);
},400);
</script>

</body>
</html>
